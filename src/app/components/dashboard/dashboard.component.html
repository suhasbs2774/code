<div class="dash">
<div class="sidebar">
  <h2>User Dashboard</h2>
  <a href="#">Home</a><br>
  <button (click)="scrollTo(section1)"  class="mat-button-sm" mat-button>Search for Wash
  </button><br>
  <button (click)="scrollTo(section3)"  class="mat-button-sm" mat-button>Post a Ad
  </button><br>
  <button (click)="scrollTo(section3)"  class="mat-button-sm" mat-button>Recent Payments
  </button><br>
  <button (click)="scrollTo(section2)"  class="mat-button-sm" mat-button>User Profile
  </button><br>
  <button (click)="scrollTo(section3)"  class="mat-button-sm" mat-button>Completed Services
  </button><br>
  <button (click)="scrollTo(section3)"  class="mat-button-sm" mat-button>Active Ads
  </button><br>
  <button (click)="scrollTo(section3)"  class="mat-button-sm" mat-button>Expired Ads
  </button><br>

</div>

<div class="main-content">
    
      <!-- Card 1 with User Details -->
      <div #section2>
        <mat-card class="hover-card">
          <mat-card-header>
            <mat-card-title>User Profile</mat-card-title>
          <br>
          </mat-card-header>
          <mat-card-content>
            <br>
            <div class="user-profile">
              <br>
              <img class="user-image" src="../../../assets/images/dp2.jpg" alt="User Image"  width="35%"/>
              <br>
              <div class="user-details">
                <p><strong>User-name:</strong> Suhas BS</p>
                <p><strong>Age:</strong> 22</p>
                <p><strong>DOB:</strong> 27/1/2004</p>
                <p><strong>Email:</strong> suhas.bsexample.com</p>
                <p><strong>Location:</strong> Mysore, Karnataka</p>
                <p><strong>Pin-code:</strong> 573-123</p>
                <p><strong>Conact no:</strong> +91 1234567891</p>
                </div>
              </div>
          </mat-card-content>
        </mat-card>
      </div>
  <br><br><br>
      <!-- Card 2 with Recent Payments -->
    <div #section3>
      <mat-card class="hover-card">
        <mat-card-header>
          <mat-card-title>Recent Payments</mat-card-title><br>
          <br>
          <mat-card-subtitle>Last 5 Transactions</mat-card-subtitle><br>
        </mat-card-header>
        <mat-card-content>
          <br>
          <div class="recent-payments">
            <!-- Static Payments List using ngFor -->
            <div class="payment-item" *ngFor="let payment of [
              { image: '../../../assets/images/p1.jpg', title: 'UPI Transfer', date: 'Jan 5, 2025', amount: '$200' },
              { image: '../../../assets/images/p2.jpg', title: 'PayPal Invoice', date: 'Jan 3, 2025', amount: '$300' },
              { image: '../../../assets/images/p3.jpg', title:  'Bank Transfer', date: 'Jan 2, 2025', amount: '$450' },
              { image: '../../../assets/images/p4.jpg', title: 'Cash Deposit', date: 'Jan 1, 2025', amount: '$150' }
            ]">
              <img class="payment-icon" [src]="payment.image" alt="{{ payment.title }}" />
              <div class="payment-details">
                <p><strong>{{ payment.title }}</strong></p>
                <p>{{ payment.date }}</p>
              </div>
              <p class="payment-amount">{{ payment.amount }}</p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    <br><br><br>
      
  
<div #section1>
          <mat-card class="service-card">
            <h2>Select a Service</h2>
            <div class="service-boxes">
              <div
                *ngFor="let service of services"
                class="service-box"
                (click)="selectService(service)"
              >
                <img [src]="service.image" alt="{{ service.name }}">
                <p>{{ service.name }}</p>
              </div>
            </div>
          </mat-card>
          <br><br><br>
          <!-- List of Shops for Selected Service -->
          <mat-card *ngIf="selectedService" class="shop-card">
            <h3>Select a Shop for {{ selectedService.name }}</h3>
            <div class="shop-boxes">
              <div
                *ngFor="let shop of selectedService.shops"
                class="shop-box"
                (click)="bookService(shop)"
              >
                <p>{{ shop.name }}</p>
                <p class="price">{{ shop.price }}</p>
              </div>
            </div>
          </mat-card>
          <br><br>
          <!-- Confirmation Message -->
          <mat-card *ngIf="bookedService" class="confirmation-card">
            <h3>Booked Service</h3>
            <p>You have booked {{ bookedService.shop.name }} for {{ bookedService.service.name }} at {{ bookedService.shop.price }}</p>
        
        
          <h4>Select Payment Method</h4>
          <div class="payment-methods">
            <button (click)="paymentMethod = 'UPI'; bookedService()" class="payment-button">UPI</button>
            <button (click)="paymentMethod = 'PayPal'; bookedService()" class="payment-button">PayPal</button>
            <button (click)="paymentMethod = 'Cash'; bookedService()" class="payment-button">Cash</button>
            <button (click)="paymentMethod = 'Bank Transfer'; bookedService()" class="payment-button">Bank Transfer</button>
          </div>
          <!-- Loading Spinner -->
          <div *ngIf="isLoading" class="loading-spinner">
            <div class="spinner"></div>
            <p>Processing payment...</p>
          </div>
        </mat-card>
        
        <!-- Final Confirmation Message -->
        <mat-card *ngIf="finalConfirmation" class="final-confirmation-card">
          <h3>Booking Confirmed</h3>
          <p>Your service {{ bookedService.service.name }} at {{ bookedService.shop.name }} has been confirmed with payment via {{ paymentMethod }}.</p>
        'finalConfirmation()'
        </mat-card>
        
<br>

</div>
</div>
<br><br><br>

