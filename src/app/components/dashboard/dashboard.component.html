<div class="dash">
<div class="sidebar">
  <h2>User Dashboard</h2>
  <a href="#">Home</a><br>
  <button (click)="scrollTo(section1)"  class="mat-button-sm" mat-button>Search for Wash
  </button><br>
  <button (click)="scrollTo(section4)"  class="mat-button-sm" mat-button>Completed Services
  </button><br>
  <button (click)="scrollTo(section3)"  class="mat-button-sm" mat-button>Recent Payments
  </button><br>
  <button (click)="scrollTo(section2)"  class="mat-button-sm" mat-button>User Profile
  </button><br>
  <button (click)="scrollTo(section5)"  class="mat-button-sm" mat-button>Post and Ad
  </button><br>
  <button (click)="scrollTo(section6)"  class="mat-button-sm" mat-button>Active Ads
  </button><br>
  <button (click)="scrollTo(section7)"  class="mat-button-sm" mat-button>Expired Ads
  </button><br>

</div>

<div class="main-content">
    
      <!-- Card 1 with User Details -->
      <div #section2>
        <mat-card class="hover-card">
          <mat-card-header>
            <mat-card-title><pre>User Profile</pre></mat-card-title>
          <br>
          </mat-card-header>
          <mat-card-content>
            <br>
            <div class="user-profile">
              <br>
              <img class="user-image" src="../../../assets/images/dp2.jpg" alt="User Image"  width="35%"/>
              <br>
              <div class="user-details">
                <p><strong>User-name:</strong> Suhas BS</p>
                <p><strong>Age:</strong> 22</p>
                <p><strong>DOB:</strong> 27/1/2004</p>
                <p><strong>Email:</strong> suhas.bsexample.com</p>
                <p><strong>Location:</strong> Mysore, Karnataka</p>
                <p><strong>Pin-code:</strong> 573-123</p>
                <p><strong>Conact no:</strong> +91 1234567891</p>
                </div>
              </div>
          </mat-card-content>
        </mat-card>
      </div>
  <br><br><br>
      <!-- Card 2 with Recent Payments -->
    <div #section3>
      <mat-card class="hover-card">
        <mat-card-header>
          <mat-card-title> <pre>Recent Payments</pre></mat-card-title><br>
          <br>
          <mat-card-subtitle>Last 5 Transactions</mat-card-subtitle><br>
        </mat-card-header>
        <mat-card-content>
          <br>
          <div class="recent-payments">
            <!-- Static Payments List using ngFor -->
            <div class="payment-item" *ngFor="let payment of [
              { image: '../../../assets/images/p1.jpg', title: 'UPI Transfer', date: 'Jan 5, 2025', amount: '$200' },
              { image: '../../../assets/images/p2.jpg', title: 'PayPal Invoice', date: 'Jan 3, 2025', amount: '$300' },
              { image: '../../../assets/images/p3.jpg', title:  'Bank Transfer', date: 'Jan 2, 2025', amount: '$450' },
              { image: '../../../assets/images/p4.jpg', title: 'Cash Deposit', date: 'Jan 1, 2025', amount: '$150' }
            ]">
              <img class="payment-icon" [src]="payment.image" alt="{{ payment.title }}" />
              <div class="payment-details">
                <p><strong>{{ payment.title }}</strong></p>
                <p>{{ payment.date }}</p>
              </div>
              <p class="payment-amount">{{ payment.amount }}</p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    <br><br><br>
      
  
<div #section1>
          <mat-card class="service-card">
            <h2><pre>Select a Service</pre></h2>
            <div class="service-boxes">
              <div
                *ngFor="let service of services"
                class="service-box"
                (click)="selectService(service)"
              >
                <img [src]="service.image" alt="{{ service.name }}">
                <p>{{ service.name }}</p>
              </div>
            </div>
          </mat-card>
          <br><br><br>
          <!-- List of Shops for Selected Service -->
          <mat-card *ngIf="selectedService" class="shop-card">
            <h3>Select a Shop for {{ selectedService.name }}</h3>
            <div class="shop-boxes">
              <div
                *ngFor="let shop of selectedService.shops"
                class="shop-box"
                (click)="bookService(shop)"
              >
                <p>{{ shop.name }}</p>
                <p class="price">{{ shop.price }}</p>
              </div>
            </div>
          </mat-card>
          <br><br>
          <!-- Confirmation Message -->
          <mat-card *ngIf="bookedService" class="confirmation-card">
            <h3>Booked Service</h3>
            <p>You have booked {{ bookedService.shop.name }} for {{ bookedService.service.name }} at {{ bookedService.shop.price }}</p>
        
        
          <h4> <pre>Select Payment Method</pre></h4>
          <div class="payment-methods">
            <button (click)="paymentMethod = 'UPI'; bookedService()" class="payment-button">UPI</button>
            <button (click)="paymentMethod = 'PayPal'; bookedService()" class="payment-button">PayPal</button>
            <button (click)="paymentMethod = 'Cash'; bookedService()" class="payment-button">Cash</button>
            <button (click)="paymentMethod = 'Bank Transfer'; bookedService()" class="payment-button">Bank Transfer</button>
          </div>
          <!-- Loading Spinner -->
          <div *ngIf="isLoading" class="loading-spinner">
            <div class="spinner"></div>
            <p>Processing payment...</p>
          </div>
        </mat-card>
        
        <!-- Final Confirmation Message -->
        <mat-card *ngIf="finalConfirmation" class="final-confirmation-card">
          <h3>Booking Confirmed</h3>
          <p>Your service {{ bookedService.service.name }} at {{ bookedService.shop.name }} has been confirmed with payment via {{ paymentMethod }}.</p>
        'finalConfirmation()'
        </mat-card>
      

</div>

<br><br><br>

<div #section4>
  <mat-card class="completed-card">
    <br>
    <h2><pre> Completed Services</pre></h2>

    <div class="task-summary">
    
      <!-- Task 1 -->
      <div class="task-card">
        <img src="../../../assets/images/c1.jpg" alt="Car Service" />
        <div class="task-details">
          <h3>Car Service</h3>
          <p>Description: High-quality car washing and polishing service.</p>
          <p>Review: 
            <span class="stars">★★★★★</span>
          </p>
          <p>Shop Name: 'Speedy Car Wash'</p>
        </div>
      </div>
    
      <!-- Task 2 -->
      <div class="task-card">
        <img src="../../../assets/images/c2.jpg" alt="Bike Service" />
        <div class="task-details">
          <h3>Bike Service</h3>
          <p>Description: Quick and efficient bike servicing with doorstep pickup.</p>
          <p>Review: 
            <span class="stars">★★★★☆</span>
          </p>
          <p>Shop Name: 'Rapid Bike Care'</p>
        </div>
      </div>
    
      <!-- Task 3 -->
      <div class="task-card">
        <img src="../../../assets/images/c3.jpg" alt="Gardening" />
        <div class="task-details">
          <h3>Gardening</h3>
          <p>Description: Professional gardening service for a beautiful backyard.</p>
          <p>Review: 
            <span class="stars">★★★★☆</span>
          </p>
          <p>Shop Name: 'Green Thumb Landscaping'</p>
        </div>
      </div>
    </div>

    </mat-card>
    </div>
    <br><br><br>

    <div #section5>
      <mat-card class="post-card">
        <br>
        <h2><pre> Post an Ads</pre></h2>
        
        <div class="card">
          <h4><strong> <pre>Post Ad</pre></strong></h4>
        
          <!-- Service Selection -->
          <label for="service">Choose a Service:</label>
          <select [(ngModel)]="post.service" id="service">
            <option *ngFor="let service of servicess" [value]="service">{{ service }}</option>
          </select>
        
          <!-- File/Image Upload -->
          <div>
            <label for="image">Upload Image/File:</label>
            <input type="file" id="image" (change)="onFileSelect($event)" />
          </div>
        
          <!-- Address Input -->
          <div>
            <label for="address">Address:</label>
            <input type="text" id="address" [(ngModel)]="post.address" placeholder="Enter address" />
          </div>
        
          <!-- Description -->
          <div>
            <label for="description">Description:</label>
            <textarea id="description" [(ngModel)]="post.description" placeholder="Enter job description"></textarea>
          </div>
        
          <!-- Expiry Selection -->
          <label for="expiry">Ad Expiry:</label>
          <select [(ngModel)]="post.expiry" id="expiry">
            <option *ngFor="let time of expiryOptions" [value]="time" >{{ time }}</option>
          </select>
        
          <!-- Post Ad Button -->
          <button (click)="postAd()">Post Ad</button>
        
          <!-- Success Message -->
          <p *ngIf="successMessage">{{ successMessage }}</p>
        </div>
        <br>

      </mat-card>
    </div>

<br><br><br>
    <div #section6>
      <mat-card class="active-card">
        <br>
        <h2><pre> Active Ads</pre></h2>
        <div class="ad-card">
          <div class="ad-header">
              <img src="../../../assets/images/a1.jpg" alt="Service Image" class="ad-image">
              <div class="ad-info">
                  <h4>Ad-1</h4>
                  <p class="ad-type">Bike Wash</p>
                  <p class="ad-days-left">Expires in 15 days</p>
              </div>
          </div>
          <div class="ad-description">
              <h4>Address</h4>
              <p>Opp Reliance super mart,Kd road, Mysore, India</p>
          </div>
          <div class="ad-footer">
              <p>Thorough cleaning and maintenance for all bike types, using eco-friendly products to remove grime and ensure optimal performance.</p>
          </div><br><hr>

          

        <div class="ad-header">
          <img src="../../../assets/images/a3.jpg" alt="Service Image" class="ad-image">
          <div class="ad-info">
              <h4>Ad-3</h4>
              <p class="ad-type">Aquarium Wash</p>
              <p class="ad-days-left">Expires in 2 days</p>
          </div>
      </div>
      <div class="ad-description">
          <h4>Address</h4>
          <p>Vijaynagara 4th stage, Mysore, India</p>
      </div>
      <div class="ad-footer">
          <p>Expert cleaning and maintenance for your aquarium, ensuring a healthy aquatic environment with tailored care for both freshwater and saltwater tanks.</p>
      </div>

      </div>
       <br>
      </mat-card>
    </div>

    <br><br><br>

    <div #section7>
      <mat-card class="ex-card">
        <br>
        <h2><pre> Expired Ads</pre></h2>

      <div class="ad-row">
          <div class="ad-card1">
              <div class="ad-header">
                  <img src="../../../assets/images/d1.jpg" alt="Bike Image" class="ad-image">
                  <div class="expired-ad-info">
                      <h2>Bike Shine</h2>
                      <p class="expired-ad-status">Expired 3 days ago</p>
                      <p class="expired-ad-description">Give my bike the shine it deserves! scrubs, polish it .</p>
                  </div>
              </div>
          </div>
      
          <div class="ad-card1">
              <div class="ad-header">
                  <img src="../../../assets/images/d2.jpg" alt="Expired Aquarium Image" class="expired-ad-image">
                  <div class="expired-ad-info">
                      <h2>Aquarium Care</h2>
                      <p class="expired-ad-status">Expired 12 days ago</p>
                      <p class="expired-ad-description">Dive into crystal-clear waters with our expert aquarium care. 
              </div>
          </div>
      </div>
      </div>
      
      <div class="ad-row">
          <div class="ad-card1">
              <div class="expired-ad-header">
                  <img src="../../../assets/images/d3.jpg" alt="Expired Tank Image" class="expired-ad-image">
                  <div class="expired-ad-info">
                      <h2>Tank TLC</h2>
                      <p class="expired-ad-status">Expired 1 month ago</p>
                      <p class="expired-ad-description"> Clean, inspect, and repair tank well in 4 hrs.</p>
                  </div>
              </div>
            </div>
      </div>
      </mat-card>
    </div>
    </div>